## 项目

任何技术是为了实际的应用而生，在具体的应用中不应该仅仅停留在表面，将东西做出来，而应该从实际的用户角度去思考如何将应用做的更好，并能够解决实际的一些痛点问题。

### 立项初衷

任何项目存在的理由都是需要解决某一类问题，当有一些问题被发现时，相应的项目就有的存在的理由，这便是项目成立的初衷。

### 问题调研

项目成立之后，凭借着产品经理或是开发者自己的一些解决问题的方案也许已经可以解决部分问题了，但最终还应该站在用户的角度去思考，所有有了用户调研，调研他们真正需要的产品。

### 开发试错

产品到了开发这一步，势必会遇到不少问题，无论是开发中，还是开发完成后。开发中遇到的或是技术难点或是尝试最佳实践。开发后根据用户需求继续不断优化打磨产品。


### 举个例子

#### 可视化活动搭建工具

初衷：不少App经常都会在某些节日或者某个时间段进行活动页面的开发，以刺激用户消费，此类活动包括介绍/营销/活动/图片展示等页面，但是都有一些共同的特点：

- 页面类似：布局，逻辑都比较固定
- 需求高频：几乎每周都有这种需求
- 迭代快速：开发时间短，上线时间级
- 开发性价比低：开发任务重复，消耗各个岗位的时间和人力

痛点与初衷：

- 多方参与，反复沟通，串行流程
- 页面上线周期长，无法快速响应活动需求
- 人力陷入重复工作泥潭，忙碌而低效

对于高频和重复的活动页面，业界一般将页面做成配置化，配置工作从开发人员交接给运营人员（需求方）；开发和设计只需要提供配置化页面的支持，活动页面则依靠可视化搭建系统来完成。

开发流程：

1. 运营产品提需求
2. 在可视化系统中选取合适的页面模版进行页面搭建
3. 页面自动化发布上线
4. 如果没有合适的模版
5. 开发进行页面模版开发，并将模版添加到系统中
6. 运营产品继续流程

技术要点：

- 页面组件化
- 页面模版
- 页面可视化编辑
- 组件层级关系
- 页面打包
- 实时预览
- 页面组件开发

技术难点：

- 页面可视化搭建工具与页面前端框架解耦
- 如何用最简单的方式生成配置数据编辑表单
- 如何组织页面组件的层级关系
- 如何实现组件库的快速后台渲染，从而实现编辑器和组件库前端的分离

解决：

**工具与框架解耦**：

使用iframe展示编辑的活动页面，工具编辑好页面数据后，将数据传递给后端，然后重新渲染活动页面。


**生成配置数据编辑表单**：

数据可编辑表单这块其实做起来并不复杂，但是要定义出所有的组件的属性数据，可能会比写的代码还要多。

配置表单的作用是生成和约束 JSON 配置数据, 业界已有对 JSON 进行描述和自动生成表单的方案 -- JSON Schema. 按照 JSON Schema 规范对 JSON 数据进行描述, 可以动态渲染出配置表单; 且 JSON Schema 可以对编辑后的数据做格式校验, 避免编辑错误. 这比编写一个表单页面更加简单和高效.

**层级关系的组织**：

若嵌套：加大工具的架构设计和开发难度都会加大
非嵌套：活动页面都是移动端，采用布局策略：宽度铺满，高度滚动，组合式都是兄弟节点

**快速渲染🔜**：

页面挂载：渲染速度块，编辑器和组件库前端得一致，编辑器源码和组件库源码耦合，可能会污染编辑器
后台渲染：编辑器和组件库前端框架的分离.避免预览页面的逻辑和样式污染编辑器环境.要求后台和组件库提供页面后台渲染能力, 并要求后台渲染速度快, 用户需要" 实时" 预览.

**理想活动页面搭建工具特点**：

采用组件化和页面模板实现页面生成效率的提升.
采用不嵌套的组件层级简化数据流和样式布局.
采用 JSON Schema 声明配置数据, 自动生成配置表单.
采用后台渲染, 使编辑系统与组件前端框架解耦.




